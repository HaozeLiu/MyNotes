# Graph 图



## 一些概念

图是由顶点（vertex）的有穷非空集合和顶点之间的边的集合组成。

1. 边：由两个顶点中间的链接组成

> 有向边 / 弧（Arc）：如由 u 到 v 的链接，为`(u, v)`;

> 无向边（edge）：没有方向的边，如 u 和 v 的链接（没有方向），为`{u, v}`

2. 如果一个图任意两个点之间的边都是有向边，那么这个图就被称为**有向图（directed graph / Digraph）**，都是无向边，就叫**无向图（undirected graph）**

>  许多现实问题可以用图来表示 / 建模，比如一群人组成的一个社交圈就是一个无向图，你和某个人是朋友，那么你们两人就是一条无向边（没有单方向的朋友），这样一群人就组成一个错综复杂的图。 再比如某个社交媒体上，你关注了某人，但TA没关注你，这就是一个由你指向他的单向边，这样一群人就组成了一个有向图。

3. 边也可以有不同的**权重**。这样的图称为权重图 / 网（network）。

   > 比如不同的地点构成的图，每两个地点及之间的连接组成边，那么可以以路程（距离）为权重。

4. 如果一条边只有一个顶点，那么它被称为**自环（self - loop）**，两个节点之间有两个以上的边，且这些边的==方向和权重都相同==就称为**多重边（multiedge）**。

> 比如两个车站之间可以有不同的线路，那么这些线路就是多重边。

没有自环和多重边的图即为**简单图（simple graph）**

5. 简单图的前提下，顶点数为`n`，则：

有向图最大边数为`n * (n - 1)`, 无向图最大边数为`n * (n - 1) / 2`

边数多就是稠密，边数少就是稀疏。（没有明确的划分边界）

> 通常用**邻接矩阵**来存储稠密的图，**邻接表**来存储稀疏的图。

6. 一个图中，从任意顶点可以到达任意其他顶点，我们就成这个图是 **连接 / 连通**的（为**无向图**时） **强连接**的（为有**向图**时）
7. 图中由几个边组成的一个圈叫做**环（cycle）**，环的长度就是组成他的边数。



## 图的表示

### 1. 边列表（EdgeList）

一个数组 / vector 存储顶点；

建立一个类 / 结构体，里面分为两个域：边的起始顶点和终止定点；然后为这个类建立一个数组 / vector 存储。如果有权重，就在类里再加一个域存储权重。

不过这么做比较低效。



### 2. 邻接矩阵 (Adjacency Matrix)

先在一个数组中依次存储所有顶点并为他们编号（也就是下标）；

再建立一个二维数组（也就是矩阵），如果顶点 1 和 3 连接（也就是有边），如果是无向无权图，那么 `A[1][3] = 1, A[3][1] = 1`；如果是有向有权图，顶点 0 与 2 之间有由 0 指向 2 的权重为 5 的边，那么`A[0][2] = 5, A[2][0] = -5`.

由于每次进行操作时我们都得先在顶点表里查他的对应下标，所以我们可以改用哈希表存储，这样更加快捷。

**但是** ，邻接矩阵的内存消耗较大，对于非稠密的图（也就是没几个顶点之间有边），邻接矩阵里会有一堆0，造成巨大的内存浪费。